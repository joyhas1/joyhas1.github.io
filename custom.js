var database = {
  "products": [
    {
      "id": 1,
      "title": "Kid's Round-Neck T-Shirt",
      "description": "Kid's T-Shirt",
      "price": 50,
      "discountPercentage": 35,
      "rating": 4.69,
      "stock": 94,
      "brand": "custom",
      "category": "mens",
      "images": [
        "products/p1/black.png",
        "products/p1/blue.png",
        "products/p1/green.png",
        "products/p1/orange.png",
		"products/p1/red.png"
      ]
    },
	{
      "id": 2,
      "title": "POLO Formal Shirt",
      "description": "Men's Shirt",
      "price": 80,
      "discountPercentage": 35,
      "rating": 4.69,
      "stock": 94,
      "brand": "polo",
      "category": "mens",
      "images": [
        "products/p2/black.png"
      ]
    },
	{
      "id": 3,
      "title": "Multistack Shirt",
      "description": "Mens's Shirt",
      "price": 90,
      "discountPercentage": 35,
      "rating": 4.69,
      "stock": 94,
      "brand": "Multistack",
      "category": "mens",
      "images": [
        "products/p1/black.png"
      ]
    },
	{
      "id": 4,
      "title": "Kid's Round-Neck T-Shirt",
      "description": "Kid's T-Shirt",
      "price": 50,
      "discountPercentage": 35,
      "rating": 4.69,
      "stock": 94,
      "brand": "custom",
      "category": "mens",
      "images": [
        "products/p1/black.png",
        "products/p1/blue.png",
        "products/p1/green.png",
        "products/p1/orange.png",
		"products/p1/red.png"
      ]
    },
	{
      "id": 5,
      "title": "Kid's Round-Neck T-Shirt",
      "description": "Kid's T-Shirt",
      "price": 50,
      "discountPercentage": 35,
      "rating": 4.69,
      "stock": 94,
      "brand": "custom",
      "category": "mens",
      "images": [
        "products/p1/black.png",
        "products/p1/blue.png",
        "products/p1/green.png",
        "products/p1/orange.png",
		"products/p1/red.png"
      ]
    },
	{
      "id": 6,
      "title": "Kid's Round-Neck T-Shirt",
      "description": "Kid's T-Shirt",
      "price": 50,
      "discountPercentage": 35,
      "rating": 4.69,
      "stock": 94,
      "brand": "custom",
      "category": "mens",
      "images": [
        "products/p1/black.png",
        "products/p1/blue.png",
        "products/p1/green.png",
        "products/p1/orange.png",
		"products/p1/red.png"
      ]
    },
	{
      "id": 7,
      "title": "Kid's Round-Neck T-Shirt",
      "description": "Kid's T-Shirt",
      "price": 50,
      "discountPercentage": 35,
      "rating": 4.69,
      "stock": 94,
      "brand": "custom",
      "category": "mens",
      "images": [
        "products/p1/black.png",
        "products/p1/blue.png",
        "products/p1/green.png",
        "products/p1/orange.png",
		"products/p1/red.png"
      ]
    },
	{
      "id": 8,
      "title": "Kid's Round-Neck T-Shirt",
      "description": "Kid's T-Shirt",
      "price": 50,
      "discountPercentage": 35,
      "rating": 4.69,
      "stock": 94,
      "brand": "custom",
      "category": "mens",
      "images": [
        "products/p1/black.png",
        "products/p1/blue.png",
        "products/p1/green.png",
        "products/p1/orange.png",
		"products/p1/red.png"
      ]
    },
	{
      "id": 9,
      "title": "Kid's Round-Neck T-Shirt",
      "description": "Kid's T-Shirt",
      "price": 50,
      "discountPercentage": 35,
      "rating": 4.69,
      "stock": 94,
      "brand": "custom",
      "category": "kids",
      "images": [
        "products/p1/black.png",
        "products/p1/blue.png",
        "products/p1/green.png",
        "products/p1/orange.png",
		"products/p1/red.png"
      ]
    },
	{
      "id": 10,
      "title": "Kid's Round-Neck T-Shirt",
      "description": "Kid's T-Shirt",
      "price": 50,
      "discountPercentage": 35,
      "rating": 4.69,
      "stock": 94,
      "brand": "custom",
      "category": "kids",
      "images": [
        "products/p1/black.png",
        "products/p1/blue.png",
        "products/p1/green.png",
        "products/p1/orange.png",
		"products/p1/red.png"
      ]
    },
	{
      "id": 11,
      "title": "POLO Formal Shirt",
      "description": "Mens's Shirt",
      "price": 50,
      "discountPercentage": 35,
      "rating": 4.69,
      "stock": 94,
      "brand": "custom",
      "category": "womens",
      "images": [
        "products/p1/black.png",
        "products/p1/blue.png",
        "products/p1/green.png",
        "products/p1/orange.png",
		"products/p1/red.png"
      ]
    },
	{
      "id": 12,
      "title": "Kid's Round-Neck T-Shirt",
      "description": "Kid's T-Shirt",
      "price": 50,
      "discountPercentage": 35,
      "rating": 4.69,
      "stock": 94,
      "brand": "custom",
      "category": "womens",
      "images": [
        "products/p12/black.png",
        "products/p12/blue.png",
        "products/p12/green.png",
        "products/p12/orange.png",
		"products/p12/red.png"
      ]
    },
	{
      "id": 13,
      "title": "Kid's Round-Neck T-Shirt",
      "description": "Kid's T-Shirt",
      "price": 50,
      "discountPercentage": 35,
      "rating": 4.69,
      "stock": 94,
      "brand": "custom",
      "category": "womens",
      "images": [
        "products/p13/black.png",
        "products/p13/blue.png",
        "products/p13/green.png",
        "products/p13/orange.png",
		"products/p13/red.png"
      ]
    }
    
  ],
  "total": 100,
  "skip": 0,
  "limit": 13
};
var y=null;
var text=null;
function getUrlParameter(sParam) {
var sPageURL = window.location.search.substring(1),
	sURLVariables = sPageURL.split('&'),
	sParameterName,
	i;

for (i = 0; i < sURLVariables.length; i++) {
	sParameterName = sURLVariables[i].split('=');

	if (sParameterName[0] === sParam) {
		return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
	}
}
return false;
}
function updateTshirtImage(imageURL){
	fabric.Image.fromURL(imageURL, function(img) {                   
		img.scaleToHeight(300);
		img.scaleToWidth(300); 
		img.crossOrigin="Anonymous";
		canvas.centerObject(img);
		canvas.add(img);
		canvas.renderAll();
	});
}
function fun() {
	var x= prompt("Enter The Text:");
	text = new fabric.IText(x, { left: 40, top: 100, color: y });
	canvas.add(text);
	document.querySelectorAll('.btn-font-family').forEach(item => {
	  item.disabled=false;
	});
	document.querySelectorAll('.btn-font-color').forEach(item => {
	  item.disabled=false;
	});
}
function addLogo(logo){
	y= (logo);
	updateTshirtImage(logo);
}
function updateTshirtColor(color) {
	document.getElementById("tshirt-backgroundpicture1").src=color;
}
function updateTextColor(color){
	text.set("fill",color);
	canvas.renderAll();
}
function updateTextFont(family){
	text.fontFamily = family;
	canvas.renderAll();
}
function getFile(){
	document.getElementById("tshirt-custompicture").click();
}

function numberValueChange(quantity){
document.getElementById("product_price").innerHTML=parseInt(product_price * quantity.value);
document.getElementById("discount").innerHTML="-"+parseInt(product_price * quantity.value / 100 * discount);
document.getElementById("total_price").innerHTML=parseInt(product_price * quantity.value - parseInt(product_price * quantity.value / 100 * discount));
}
function ajaxBtnColourButtons(){
$(".btn-tshirt-color").remove();
var tmp_button_data = "";
var first_color = "";
for (var i = 0; i < tmp_data.images.length; i++){
var img_src = "'"+tmp_data.images[i]+"'";
	var images_color = tmp_data.images[i].split("/")[2].replace(".png","");
	
	if(images_color == "black"){
	tmp_button_data+='<button type="button" class="btn btn-dark btn-sm btn-tshirt-color" onclick="updateTshirtColor('+img_src+')"><span class="fa fa-user-o"></span></button>';
	}
	else if(images_color == "blue"){
	tmp_button_data+='<button type="button" class="btn btn-primary btn-sm btn-tshirt-color" onclick="updateTshirtColor('+img_src+')"><span class="fa fa-user-o"></span></button>';
	}
	else if(images_color == "green"){
	tmp_button_data+='<button type="button" class="btn btn-success btn-sm btn-tshirt-color" onclick="updateTshirtColor('+img_src+')"><span class="fa fa-user-o"></span></button>';
	}
	else if(images_color == "orange"){
	tmp_button_data+='<button type="button" class="btn btn-warning btn-sm btn-tshirt-color" onclick="updateTshirtColor('+img_src+')"><span class="fa fa-user-o"></span></button>';
	}
	else if(images_color == "red"){
	tmp_button_data+='<button type="button" class="btn btn-danger btn-sm btn-tshirt-color" onclick="updateTshirtColor('+img_src+')"><span class="fa fa-user-o"></span></button>';
	}else{
	tmp_button_data+='<button type="button" class="btn btn-default btn-sm btn-tshirt-color" onclick="updateTshirtColor('+img_src+')"><span class="fa fa-user-o"></span></button>';
	}
	if(images_color != "" && first_color == ""){
	first_color = img_src;
	}
}
$("#btn-color-container").after(tmp_button_data);
$("#tshirt-backgroundpicture1").attr("src",first_color.replace(/['"]+/g, ''));
console.log(product_price+" "+quantity.value);
document.getElementById("product_price").innerHTML=parseInt(product_price * quantity.value);
document.getElementById("discount").innerHTML="-"+parseInt(product_price * quantity.value / 100 * discount);
document.getElementById("total_price").innerHTML=parseInt(product_price * quantity.value - parseInt(product_price * quantity.value / 100 * discount));
$(".product_title").html(tmp_data['title']);
$("#product_description").html(tmp_data['description']);
$("#discount_label").html(discount+"%");
}
// to get current year
function getYear() {
    var currentDate = new Date();
    var currentYear = currentDate.getFullYear();
    //document.querySelector("#displayYear").innerHTML = currentYear;
}

getYear();


// client section owl carousel
/*
$(".client_owl-carousel").owlCarousel({
    loop: true,
    margin: 0,
    dots: false,
    nav: true,
    navText: [],
    autoplay: true,
    autoplayHoverPause: true,
    navText: [
        '<i class="fa fa-angle-left" aria-hidden="true"></i>',
        '<i class="fa fa-angle-right" aria-hidden="true"></i>'
    ],
    responsive: {
        0: {
            items: 1
        },
        768: {
            items: 2
        },
        1000: {
            items: 2
        }
    }
});

*/

/** google_map js **/
function myMap() {
    var mapProp = {
        center: new google.maps.LatLng(40.712775, -74.005973),
        zoom: 18,
    };
    var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
}